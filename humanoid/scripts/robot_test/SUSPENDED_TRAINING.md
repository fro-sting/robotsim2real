# æœºå™¨äººæ‚¬æŒ‚è®­ç»ƒæ¨¡å¼

## æ¦‚è¿°
è¿™ä¸ªæ¨¡å¼å°†æœºå™¨äººä¸ŠåŠèº«ï¼ˆbase_linkï¼‰å›ºå®šåœ¨ç©ºä¸­ï¼Œåªå…è®¸ä¸‹åŠèº«ï¼ˆè…¿éƒ¨ï¼‰æ´»åŠ¨ï¼Œç”¨äºä¸“é—¨è®­ç»ƒè…¿éƒ¨æ§åˆ¶ç­–ç•¥ã€‚

## å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šç›´æ¥ä¿®æ”¹kuavo_config.pyï¼ˆå·²å®Œæˆï¼‰
æœ€ç®€å•çš„æ–¹æ³•ï¼Œç›´æ¥è®¾ç½®`fix_base_link = True`ï¼š
- âœ… å·²ä¿®æ”¹ï¼š`kuavo_config.py` ä¸­ `asset.fix_base_link = True`
- é€‚ç”¨åœºæ™¯ï¼šå¿«é€Ÿæµ‹è¯•æ‚¬æŒ‚æ•ˆæœ

### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ä¸“ç”¨æ‚¬æŒ‚é…ç½®ï¼ˆæ¨èï¼‰
åˆ›å»ºäº†ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶`kuavo_suspended_config.py`ï¼š
- âœ… å›ºå®šbase_linkåœ¨1.2ç±³é«˜åº¦
- âœ… ç¦ç”¨baseè¿åŠ¨ç›¸å…³çš„å¥–åŠ±
- âœ… ç¦ç”¨æ¨åŠ›å’Œæ‰°åŠ¨
- âœ… ä½¿ç”¨å¹³é¢åœ°å½¢
- âœ… å¢å¼ºå…³èŠ‚è·Ÿè¸ªå¥–åŠ±

## ä½¿ç”¨æ–¹æ³•

### 1. ä½¿ç”¨æ–¹æ¡ˆä¸€ï¼ˆä¿®æ”¹åçš„åŸå§‹é…ç½®ï¼‰
```bash
cd /home/wegg/kuavo_rl_asap-main/RL_train
python train.py --task=kuavo_ppo
```

### 2. ä½¿ç”¨æ–¹æ¡ˆäºŒï¼ˆæ¨è - æ‚¬æŒ‚ä¸“ç”¨é…ç½®ï¼‰
```bash
cd /home/wegg/kuavo_rl_asap-main/RL_train
python train_suspended.py
```

æˆ–è€…ä½¿ç”¨æ ‡å‡†è®­ç»ƒè„šæœ¬ï¼š
```bash
python train.py --task=kuavo_suspended
```

## é…ç½®è¯´æ˜

### å…³é”®å‚æ•°

1. **æ‚¬æŒ‚é«˜åº¦** (`init_state.pos[2]`)
   - é»˜è®¤ï¼š1.2ç±³
   - å¯è°ƒæ•´èŒƒå›´ï¼š0.8-2.0ç±³
   - ç¡®ä¿è…¿éƒ¨å¯ä»¥è‡ªç”±æ´»åŠ¨è€Œä¸è§¦åœ°

2. **å›ºå®šbase_link** (`asset.fix_base_link`)
   - è®¾ç½®ä¸º`True`å³å¯å›ºå®šä¸ŠåŠèº«

3. **å‘½ä»¤èŒƒå›´** (`commands.ranges`)
   - æ‚¬æŒ‚æ¨¡å¼ä¸‹å…¨éƒ¨è®¾ä¸º0ï¼ˆå› ä¸ºbaseä¸èƒ½ç§»åŠ¨ï¼‰

4. **å¥–åŠ±æƒé‡è°ƒæ•´** (`rewards.scales`)
   - `tracking_lin_vel = 0.0`ï¼šä¸è¿½è¸ªçº¿é€Ÿåº¦
   - `tracking_ang_vel = 0.0`ï¼šä¸è¿½è¸ªè§’é€Ÿåº¦
   - `imition_Leg_joint_positions = 8.0`ï¼šå¢å¼ºè…¿éƒ¨è·Ÿè¸ª

## è®­ç»ƒæ•ˆæœ

### ä¼˜ç‚¹
- âœ… ä¸“æ³¨è®­ç»ƒè…¿éƒ¨åè°ƒæ€§
- âœ… ä¸å—å¹³è¡¡é—®é¢˜å½±å“
- âœ… å¯ä»¥æ›´å¿«å­¦ä¹ æ­¥æ€
- âœ… ä¾¿äºè°ƒè¯•å’Œå¯è§†åŒ–

### é€‚ç”¨åœºæ™¯
- ğŸ¯ åˆæœŸè…¿éƒ¨åŠ¨ä½œå­¦ä¹ 
- ğŸ¯ æ­¥æ€æ¨¡å¼ç ”ç©¶
- ğŸ¯ å…³èŠ‚æ§åˆ¶è°ƒè¯•
- ğŸ¯ å¿«é€ŸéªŒè¯å¥–åŠ±å‡½æ•°

## æ¢å¤æ­£å¸¸è®­ç»ƒ

å¦‚æœè¦æ¢å¤æ­£å¸¸çš„å…¨èº«è®­ç»ƒï¼š

### æ–¹æ¡ˆä¸€ï¼šä¿®æ”¹å›åŸé…ç½®
ç¼–è¾‘ `kuavo_config.py`ï¼š
```python
fix_base_link = False  # æ”¹å›False
```

### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨åŸå§‹ä»»åŠ¡
```bash
python train.py --task=kuavo_ppo --load_run=your_suspended_model --checkpoint=xxx
```

## å¯è§†åŒ–

è¿è¡Œè®­ç»ƒæ—¶ä¼šè‡ªåŠ¨æ˜¾ç¤ºIsaac Gymçª—å£ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼š
- æœºå™¨äººä¸ŠåŠèº«å›ºå®šåœ¨ç©ºä¸­
- è…¿éƒ¨è‡ªç”±æ´»åŠ¨
- å¯ä»¥ç”¨é¼ æ ‡æ—‹è½¬è§†è§’è§‚å¯Ÿ

## é«˜çº§è°ƒæ•´

### 1. è°ƒæ•´æ‚¬æŒ‚é«˜åº¦
ç¼–è¾‘ `kuavo_suspended_config.py`ï¼š
```python
class init_state(KuavoCfg.init_state):
    pos = [0.0, 0.0, 1.5]  # æ”¹å˜é«˜åº¦å€¼
```

### 2. æ·»åŠ è½»å¾®æ‰°åŠ¨ï¼ˆå¯é€‰ï¼‰
```python
class domain_rand(KuavoCfg.domain_rand):
    disturbance = True
    disturbance_range = [-100.0, 100.0]  # å°æ‰°åŠ¨
```

### 3. éƒ¨åˆ†å›ºå®šå…³èŠ‚
å¦‚æœåªæƒ³å›ºå®šæŸäº›è‡ªç”±åº¦ï¼Œå¯ä»¥åœ¨ç¯å¢ƒä¸­ä¿®æ”¹ï¼š
```python
# åœ¨kuavo_env.pyçš„create_simä¸­æ·»åŠ 
# åªå›ºå®šxyzä½ç½®ï¼Œä½†å…è®¸æ—‹è½¬
```

## æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šè…¿éƒ¨è§¦åœ°
- å¢åŠ  `init_state.pos[2]` çš„å€¼

### é—®é¢˜2ï¼šè®­ç»ƒä¸æ”¶æ•›
- æ£€æŸ¥å¥–åŠ±æƒé‡æ˜¯å¦åˆç†
- ç¡®è®¤è§‚æµ‹ç©ºé—´æ˜¯å¦åŒ…å«å¿…è¦ä¿¡æ¯

### é—®é¢˜3ï¼šå¯¼å…¥é”™è¯¯
- è¿è¡Œ `python setup.py develop` é‡æ–°å®‰è£…åŒ…

## æ–‡ä»¶åˆ—è¡¨

åˆ›å»º/ä¿®æ”¹çš„æ–‡ä»¶ï¼š
- âœ… `kuavo_config.py` - ä¿®æ”¹äº†fix_base_link
- âœ… `kuavo_suspended_config.py` - æ–°å¢æ‚¬æŒ‚ä¸“ç”¨é…ç½®
- âœ… `train_suspended.py` - æ–°å¢è®­ç»ƒè„šæœ¬
- âœ… `humanoid/envs/__init__.py` - æ³¨å†Œæ–°ä»»åŠ¡
- âœ… `SUSPENDED_TRAINING.md` - æœ¬æ–‡æ¡£
